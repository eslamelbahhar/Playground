<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Great Mondays â€“ ALLHR Version</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      html, body { margin:0; padding:0; overflow:hidden; background:#f0f4f8; }
      #root { width:100%; height:100%; overflow:hidden; }

      /* Mobile-safe animations */
      @keyframes revealIn {
        0% { opacity:0; transform:translateY(12px); filter:blur(4px); }
        100% { opacity:1; transform:translateY(0); filter:blur(0); }
      }

      .auto-reveal { opacity:0; transform:translateY(12px); filter:blur(4px); transition:all .4s ease; }
      .auto-reveal.visible { opacity:1; transform:translateY(0); filter:blur(0); }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script type="text/babel" data-presets="env,react">
      const { useState, useEffect, useRef } = React;

      /* MOBILE VISIBILITY OBSERVER FOR R3 */
      const useAutoReveal = () => {
        const ref = useRef();
        const [visible, setVisible] = useState(false);

        useEffect(() => {
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) setVisible(true);
              });
            },
            { threshold: 0.35 }
          );
          if (ref.current) observer.observe(ref.current);
          return () => observer.disconnect();
        }, []);

        return [ref, visible];
      };

      /* SLIDES */
      const slides = [
        {
          type: "intro",
          title: "Great Mondays",
          subtitle: "Designing a Culture Employees Love",
        },
        {
          type: "why",
          title: "Why Culture Matters",
          points: [
            "Talent expectations are meaning-driven",
            "Culture prevents risk and reinforces consistency",
            "Designed with intention, not by accident"
          ]
        },
        {
          type: "why",
          title: "Evolving Culture Practice",
          points: [
            "From values fit, not culture fit",
            "Culture as a product with iteration cycles",
            "Hybrid & distributed systems reshape rituals",
            "Leaders as gardeners removing misaligned behaviors"
          ]
        }
      ];

      /* MAIN APP */
      function App() {
        const [current, setCurrent] = useState(0);
        const slide = slides[current];

        const next = () => setCurrent((c) => Math.min(c + 1, slides.length - 1));
        const prev = () => setCurrent((c) => Math.max(c - 1, 0));

        return (
          <div className="w-full h-full flex items-center justify-center bg-slate-100 relative overflow-hidden">
            <div className="absolute top-2 right-3 text-[8px] text-slate-700 opacity-60">
              {current + 1}/{slides.length}
            </div>

            <div className="w-full h-full overflow-y-auto p-6 md:p-16">
              {/* INTRO */}
              {slide.type === "intro" && (
                <div className="text-center">
                  <h1 className="text-4xl md:text-7xl font-bold mb-6">{slide.title}</h1>
                  <p className="text-xl md:text-3xl text-slate-600">{slide.subtitle}</p>
                </div>
              )}

              {/* WHY SLIDES */}
              {slide.type === "why" && (
                <div>
                  <h1 className="text-3xl md:text-6xl font-bold text-center mb-10">{slide.title}</h1>
                  <div className="space-y-6 max-w-2xl mx-auto">
                    {slide.points.map((p, i) => {
                      const [ref, visible] = useAutoReveal();
                      return (
                        <div
                          key={i}
                          ref={ref}
                          className={`auto-reveal p-5 rounded-2xl bg-white shadow ${visible ? "visible" : ""}`}
                        >
                          <p className="text-lg md:text-2xl text-slate-700">{p}</p>
                        </div>
                      );
                    })}
                  </div>
                </div>
              )}
            </div>

            {/* NAV */}
            <div className="absolute bottom-4 left-0 right-0 flex justify-center gap-4">
              <button
                onClick={prev}
                className="px-4 py-2 bg-white shadow rounded-full text-slate-700 text-xs"
              >Prev</button>
              <button
                onClick={next}
                className="px-4 py-2 bg-slate-900 text-white shadow rounded-full text-xs"
              >Next</button>
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
